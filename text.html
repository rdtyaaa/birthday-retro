<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday Adventure</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        overflow: hidden;
        height: 100%;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: linear-gradient(
          135deg,
          #f5f2e8 0%,
          #ede4d0 50%,
          #e8dcc0 100%
        );
        overflow: hidden;
        position: fixed;
        width: 100%;
        height: 100%;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-image: radial-gradient(
            circle at 20% 80%,
            rgba(120, 119, 198, 0.05) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(255, 255, 255, 0.05) 0%,
            transparent 50%
          );
        mix-blend-mode: overlay;
        pointer-events: none;
        z-index: 1000;
      }

      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .container {
        position: relative;
        width: 100%;
        height: 100vh;
        z-index: 1;
      }

      .section {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        opacity: 0;
        transform: translateY(100px);
        transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        pointer-events: none;
      }

      .section.active {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }

      .content {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
        border-radius: 30px;
        padding: 3rem;
        max-width: 800px;
        width: 100%;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.5);
      }

      .title {
        font-size: 3.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-align: center;
        margin-bottom: 1rem;
      }

      .subtitle {
        font-size: 1.5rem;
        color: #64748b;
        text-align: center;
        margin-bottom: 2rem;
      }

      .story-text {
        font-size: 1.2rem;
        line-height: 1.8;
        color: #374151;
        text-align: justify;
      }

      .heart {
        text-align: center;
        font-size: 3rem;
        margin: 1rem 0;
      }

      .progress-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 4px;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        transition: width 0.3s ease;
        z-index: 1001;
      }

      .navigation {
        position: fixed;
        bottom: 2rem;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 1rem;
        z-index: 1001;
        background: rgba(255, 255, 255, 0.9);
        padding: 1rem 2rem;
        border-radius: 50px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .nav-btn {
        padding: 0.8rem 1.5rem;
        border: none;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .nav-btn:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .nav-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .scroll-indicator {
        position: fixed;
        right: 2rem;
        top: 50%;
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        z-index: 1001;
      }

      .scroll-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(102, 126, 234, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .scroll-dot.active {
        background: #667eea;
        transform: scale(1.3);
      }

      .floating-hearts {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 999;
      }

      .floating-heart {
        position: absolute;
        font-size: 2rem;
        opacity: 0.6;
        animation: floatUp 8s linear infinite;
      }

      @keyframes floatUp {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0.6;
        }
        100% {
          transform: translateY(-100px) rotate(360deg);
          opacity: 0;
        }
      }

      .gallery-section .content {
        max-width: 1200px;
        overflow-x: auto;
        overflow-y: hidden;
        padding-bottom: 1rem;
      }

      .gallery-section .content::-webkit-scrollbar {
        height: 8px;
      }

      .gallery-section .content::-webkit-scrollbar-track {
        background: rgba(102, 126, 234, 0.1);
        border-radius: 10px;
      }

      .gallery-section .content::-webkit-scrollbar-thumb {
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
      }

      .gallery-grid {
        display: flex;
        gap: 1rem;
        margin-top: 1.5rem;
        min-width: min-content;
      }

      .gallery-item {
        min-width: 300px;
        width: 300px;
        height: 300px;
        background: rgba(102, 126, 234, 0.1);
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        transition: transform 0.3s ease;
        flex-shrink: 0;
        overflow: hidden;
        position: relative;
      }

      .gallery-item img,
      .gallery-item video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 15px;
      }

      .gallery-item:hover {
        transform: scale(1.05);
      }

      @media (max-width: 768px) {
        .gallery-item {
          min-width: 250px;
          width: 250px;
          height: 250px;
        }
      }

      @media (max-width: 768px) {
        .title {
          font-size: 2.5rem;
        }

        .content {
          padding: 2rem;
          margin: 1rem;
        }

        .story-text {
          font-size: 1.1rem;
        }

        .navigation {
          bottom: 1rem;
          padding: 0.8rem 1.5rem;
        }

        .scroll-indicator {
          right: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="progress-bar" id="progressBar"></div>
    <div class="floating-hearts" id="floatingHearts"></div>
    <div class="scroll-indicator" id="scrollIndicator"></div>

    <div class="container" id="container">
      <!-- Title Section with Wish Input -->
      <section class="section title-section active" id="section-0">
        <div class="content">
          <h1 class="title">Happy Birthday</h1>
          <p class="subtitle">Afifa Nur Octaviani</p>

          <div style="margin-top: 2rem; width: 100%">
            <label
              style="
                display: block;
                color: #64748b;
                font-size: 1.1rem;
                margin-bottom: 1rem;
                text-align: center;
              "
            >
              Tuliskan harapanmu di tahun ini:
            </label>
            <textarea
              id="wishInput"
              style="
                width: 100%;
                min-height: 120px;
                padding: 1rem;
                border: 2px solid #e5e7eb;
                border-radius: 12px;
                font-family: 'Poppins', sans-serif;
                font-size: 1rem;
                resize: vertical;
                background: rgba(255, 255, 255, 0.8);
              "
              placeholder="Tulis harapanmu disini..."
            ></textarea>

            <p
              style="
                color: #667eea;
                font-size: 1rem;
                margin: 1rem 0;
                text-align: center;
              "
            >
              Apakah harapanmu sudah benar?
            </p>

            <button
              id="saveBtn"
              onclick="saveWish()"
              style="
                width: 100%;
                padding: 1rem;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                border-radius: 12px;
                font-size: 1.1rem;
                font-weight: 600;
                cursor: pointer;
                transition: transform 0.3s ease, box-shadow 0.3s ease;
              "
              onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 25px rgba(102, 126, 234, 0.3)'"
              onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
            >
              Simpan Harapan
            </button>
          </div>

          <div
            id="charactersContainer"
            style="
              display: none;
              margin-top: 2rem;
              position: relative;
              width: 100%;
              height: 250px;
            "
          >
            <img
              src="assets/img/character/Octavia/Octavia-Transparent.png"
              alt="Octavia"
              style="
                position: absolute;
                left: 10%;
                bottom: 0;
                height: 200px;
                opacity: 0;
                animation: slideInLeft 1s ease forwards;
              "
            />
            <img
              src="assets/img/character/Rascal/Rascal-Transparent.png"
              alt="Rascal"
              style="
                position: absolute;
                right: 10%;
                bottom: 0;
                height: 200px;
                opacity: 0;
                animation: slideInRight 1s ease forwards;
                animation-delay: 0.3s;
              "
            />
          </div>

          <div
            id="savedWish"
            style="
              display: none;
              margin-top: 2rem;
              padding: 1.5rem;
              background: rgba(255, 255, 255, 0.9);
              border-radius: 12px;
              border: 2px solid #667eea;
            "
          >
            <h3
              style="color: #667eea; margin-bottom: 0.5rem; text-align: center"
            >
              Harapanmu:
            </h3>
            <p id="savedWishText" style="color: #374151; line-height: 1.6"></p>
          </div>
        </div>
      </section>

      <!-- Harapan dari Aku -->
      <section class="section" id="section-1">
        <div class="content">
          <h2
            style="
              font-size: 2rem;
              margin-bottom: 1.5rem;
              color: #667eea;
              text-align: center;
            "
          >
            Harapan Dariku Untukmu
          </h2>
          <p class="story-text">
            Di tahun ini, aku berharap kamu selalu dikelilingi kebahagiaan dan
            kesehatan. Semoga setiap langkahmu dipenuhi dengan kesuksesan, dan
            setiap mimpimu bisa terwujud satu per satu. Aku ingin kamu tahu
            bahwa kamu adalah orang yang luar biasa, dan aku berharap kamu terus
            menjadi versi terbaik dari dirimu sendiri.
          </p>
          <div class="heart" style="margin: 1.5rem 0">🌟</div>
          <p class="story-text">
            Semoga kita bisa terus bersama, saling mendukung, dan menciptakan
            lebih banyak kenangan indah. Aku percaya tahun ini akan membawa
            banyak hal baik untukmu. Happy Birthday, Afifa! 💕
          </p>
        </div>
      </section>

      <!-- Story Sections -->
       
      <section class="section" id="section-2">
        <div class="content">
          <h2
            style="
              font-size: 2rem;
              margin-bottom: 1.5rem;
              color: #667eea;
              text-align: center;
            "
          >
            Mari Flashback dikit
          </h2>
          <p class="story-text">
            Semuanya mulai sederhana: DM TikTok yang awalnya cuma saling sapa,
            lalu jadi ruang curhat patah hati. Dari situ, kita pelan-pelan jadi
            dekat—bukan karena rencana, tapi karena nyaman.
          </p>
        </div>
      </section>

      <section class="section" id="section-3">
        <div class="content">
          <p class="story-text">
            Pertemuan pertama rasanya canggung tapi hangat. Habis itu, frekuensi
            chat nambah, telpon makin lama, sampai akhirnya ngerasa aneh kalau
            sehari nggak ngobrol. Di situ gua sadar, apakah ini namanya cinta wkwkkw.
          </p>
        </div>
      </section>

      <section class="section" id="section-4">
        <div class="content">
          <p class="story-text">
            Kita mulai bikin “ritual” kecil: photobooth tiap bulan, jalan tanpa
            tujuan keliling Bandung, nongkrong di sumur tiap malam cuma buat
            tuker cerita receh sampai yang paling berat. Hal-hal sederhana itu
            yang bikin gua jatuh lagi dan lagi.
          </p>
        </div>
      </section>

      <section class="section" id="section-5">
        <div class="content">
          <p class="story-text">
            Dari obrolan kita tentang masa depan, gua makin yakin: gua pengen
            bangun relationship yang seru, yang asik, yang saling dukung, yang
            tiap pulang rasanya lega. Sama lu, semua itu kebayang jadi nyata.
          </p>
        </div>
      </section>

      <section class="section" id="section-6">
        <div class="content">
          <p class="story-text">Anjas, kiw-kiw udah gitu aja gatau ngomong apa wle. Kamu jelek.</p>
        </div>
      </section>

      <section class="section gallery-section" id="section-10">
        <div class="content">
          <h2 style="font-size: 2rem; margin-bottom: 1rem; color: #667eea">
            Momen Konser
          </h2>
          <p style="color: #64748b; margin-bottom: 1rem">
            Kencengin aja suara, walaupung fals yang penting teriak.
          </p>
          <div class="gallery-grid">
            <!-- Contoh dengan foto -->
            <div class="gallery-item">
              <img src="assets/img/concert4.jpeg" alt="Konser 1" />
            </div>
            <div class="gallery-item">
              <video controls>
                <source src="assets/video/concert1.mp4" type="video/mp4" />
            </div>
            <!-- Contoh dengan video -->
            <div class="gallery-item">
              <video controls>
                <source src="assets/video/concert2.mp4" type="video/mp4" />
              </video>
            </div>
            <div class="gallery-item">
              <video controls>
                <source src="assets/video/concert3.mp4" type="video/mp4" />
              </video>
            </div>
          </div>
          <p
            style="
              color: #94a3b8;
              margin-top: 1rem;
              font-size: 0.9rem;
              text-align: center;
            "
          >
            ← Scroll horizontal untuk melihat lebih banyak →
          </p>
        </div>
      </section>

      <section class="section gallery-section" id="section-11">
        <div class="content">
          <h2 style="font-size: 2rem; margin-bottom: 1rem; color: #667eea">
            Momen Jalan-Jalan
          </h2>
          <p style="color: #64748b; margin-bottom: 1rem">
            Puterin aja tuh semua kota!
          </p>
          <div class="gallery-grid">
            <div class="gallery-item">
              <img src="assets/img/trip1.jpg" alt="Jalan-jalan" />
            </div>
            <div class="gallery-item">
              <img src="assets/img/trip2.jpg" alt="Trip 2" />
            </div>
            <div class="gallery-item">
              <img src="assets/img/trip3.jpg" alt="Trip 2" />
            </div>
            <div class="gallery-item">
              <video controls>
                <source
                  src="assets/video/trip1.mp4"
                  type="video/mp4"
                />
              </video>
            </div>
          </div>
          <p
            style="
              color: #94a3b8;
              margin-top: 1rem;
              font-size: 0.9rem;
              text-align: center;
            "
          >
            ← Scroll horizontal untuk melihat lebih banyak →
          </p>
        </div>
      </section>

      <section class="section gallery-section" id="section-12">
        <div class="content">
          <h2 style="font-size: 2rem; margin-bottom: 1rem; color: #667eea">
            Momen Sehari-hari
          </h2>
          <p style="color: #64748b; margin-bottom: 1rem">Gatau ini apa</p>
          <div class="gallery-grid">
            <div class="gallery-item">
              <img src="assets/img/daily1.jpeg" alt="Sehari-hari 1" />
            </div>
            <div class="gallery-item">
              <img src="assets/img/daily2.jpeg" alt="Sehari-hari 2" />
            </div>
            <div class="gallery-item">
              <img src="assets/img/daily3.jpeg" alt="Sehari-hari 2" />
            </div>
            <div class="gallery-item">
              <video controls>
                <source src="assets/video/daily1.mp4" type="video/mp4" />
              </video>
            </div>
            <div class="gallery-item">
              <video controls>
                <source src="assets/video/daily2.mp4" type="video/mp4" />
              </video>
            </div>
            <div class="gallery-item">
              <video controls>
                <source src="assets/video/daily3.mp4" type="video/mp4" />
              </video>
            </div>
          </div>
          <p
            style="
              color: #94a3b8;
              margin-top: 1rem;
              font-size: 0.9rem;
              text-align: center;
            "
          >
            ← Scroll horizontal untuk melihat lebih banyak →
          </p>
        </div>
      </section>

      <!-- Final Section -->
      <section class="section final-section" id="section-10">
        <div class="content">
          <h2
            style="
              font-size: 2.5rem;
              margin-bottom: 1rem;
              color: #667eea;
              text-align: center;
            "
          >
            Happy Birthday<br />
          </h2>
          <p
            class="story-text"
            style="text-align: center; font-size: 1.3rem; color: #374151"
          >
            Afifa Nur Octaviani
          </p>
          <div class="heart">❤️</div>
          <p
            style="
              color: #64748b;
              font-size: 1.1rem;
              margin-top: 2rem;
              text-align: center;
            "
          >
            Semoga selalu bahagia dan sehat selalu 🎂
          </p>
          <p
            style="
              color: #667eea;
              font-size: 1.3rem;
              margin-top: 1rem;
              text-align: center;
              font-weight: 600;
            "
          >
            Belom selesai, Mari ikut menjelajahi angkasa! ✨
          </p>
          <button
            onclick="window.location.href='space.html'"
            style="
              margin-top: 2rem;
              padding: 1.2rem 3rem;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              color: white;
              border: none;
              border-radius: 50px;
              font-size: 1.3rem;
              font-weight: 700;
              cursor: pointer;
              transition: all 0.3s ease;
              box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
              display: block;
              margin-left: auto;
              margin-right: auto;
            "
            onmouseover="this.style.transform='translateY(-5px) scale(1.05)'; this.style.boxShadow='0 15px 40px rgba(102, 126, 234, 0.5)'"
            onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 10px 30px rgba(102, 126, 234, 0.3)'"
          >
            Kuy 🚀
          </button>
        </div>
      </section>
    </div>

    <div class="navigation">
      <button class="nav-btn" id="prevBtn" onclick="previousSection()">
        ← Previous
      </button>
      <button class="nav-btn" id="nextBtn" onclick="nextSection()">
        Next →
      </button>
    </div>

    <script>
      let currentSection = 0;
      let isScrolling = false;
      let touchStartY = 0;
      let touchStartTime = 0;
      let scrollDebounceTimer = null;
      let scrollDelta = 0;

      const sections = document.querySelectorAll(".section");
      const totalSections = sections.length;

      // Save wish function
      async function saveWish() {
        const wishInput = document.getElementById("wishInput");
        const saveBtn = document.getElementById("saveBtn");
        const wishText = wishInput.value.trim();

        if (!wishText) {
          alert("Silakan tulis harapanmu terlebih dahulu!");
          return;
        }

        // Disable button and show loading state
        saveBtn.disabled = true;
        saveBtn.textContent = "Menyimpan...";

        try {
          // Prepare data to send
          const data = {
            name: "Afifa Nur Octaviani",
            wish: wishText,
            timestamp: new Date().toISOString(),
            date: new Date().toLocaleString("id-ID", {
              dateStyle: "full",
              timeStyle: "medium",
            }),
          };

          // Send to webhook using fetch with no-cors mode to avoid CORS issues
          const response = await fetch(
            "https://webhook.site/cdd00988-edc0-418c-b7f2-a048c4da30b9",
            {
              method: "POST",
              mode: "no-cors", // This prevents CORS errors
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(data),
            }
          );

          // Note: With no-cors mode, we can't read the response
          // but the request will be sent successfully
          console.log("Harapan berhasil dikirim:", data);

          // Hide input and button
          wishInput.style.display = "none";
          saveBtn.style.display = "none";
          document.querySelector("label").style.display = "none";
          document.querySelectorAll("p")[1].style.display = "none";

          // Show characters
          document.getElementById("charactersContainer").style.display =
            "block";

          // Show saved wish
          const savedWishDiv = document.getElementById("savedWish");
          const savedWishText = document.getElementById("savedWishText");
          savedWishText.textContent = wishText;
          savedWishDiv.style.display = "block";
        } catch (error) {
          console.error("Error mengirim harapan:", error);

          // Even if there's an error, still show the wish locally
          // This ensures user experience isn't disrupted
          alert("Harapan tersimpan secara lokal!");

          // Hide input and button
          wishInput.style.display = "none";
          saveBtn.style.display = "none";
          document.querySelector("label").style.display = "none";
          document.querySelectorAll("p")[1].style.display = "none";

          // Show characters
          document.getElementById("charactersContainer").style.display =
            "block";

          // Show saved wish
          const savedWishDiv = document.getElementById("savedWish");
          const savedWishText = document.getElementById("savedWishText");
          savedWishText.textContent = wishText;
          savedWishDiv.style.display = "block";

          // Log to console for debugging
          console.log("Harapan Afifa (offline):", {
            name: "Afifa Nur Octaviani",
            wish: wishText,
            timestamp: new Date().toISOString(),
          });
        }
      }

      function isGalleryScrolledToEnd(section) {
        const content = section.querySelector(".content");
        if (!content) return true;

        const scrollLeft = content.scrollLeft;
        const scrollWidth = content.scrollWidth;
        const clientWidth = content.clientWidth;

        return scrollLeft + clientWidth >= scrollWidth - 10;
      }

      function isGalleryScrolledToStart(section) {
        const content = section.querySelector(".content");
        if (!content) return true;

        return content.scrollLeft <= 10;
      }

      function initScrollIndicators() {
        const indicator = document.getElementById("scrollIndicator");
        for (let i = 0; i < totalSections; i++) {
          const dot = document.createElement("div");
          dot.className = "scroll-dot";
          if (i === 0) dot.classList.add("active");
          dot.addEventListener("click", () => goToSection(i));
          indicator.appendChild(dot);
        }
      }

      function updateProgress() {
        const progress = ((currentSection + 1) / totalSections) * 100;
        document.getElementById("progressBar").style.width = progress + "%";
      }

      function updateScrollIndicators() {
        const dots = document.querySelectorAll(".scroll-dot");
        dots.forEach((dot, index) => {
          dot.classList.toggle("active", index === currentSection);
        });
      }

      function showSection(index) {
        sections.forEach((section, i) => {
          section.classList.remove("active", "prev", "next");

          if (i === index) {
            section.classList.add("active");
          } else if (i < index) {
            section.classList.add("prev");
          } else {
            section.classList.add("next");
          }
        });

        updateProgress();
        updateScrollIndicators();
        updateNavButtons();
      }

      function updateNavButtons() {
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        prevBtn.disabled = currentSection === 0;
        nextBtn.disabled = currentSection === totalSections - 1;
      }

      function goToSection(index) {
        if (
          isScrolling ||
          index < 0 ||
          index >= totalSections ||
          index === currentSection
        )
          return;

        isScrolling = true;
        currentSection = index;
        showSection(currentSection);

        setTimeout(() => {
          isScrolling = false;
        }, 800);
      }

      function nextSection() {
        if (currentSection < totalSections - 1) {
          goToSection(currentSection + 1);
        }
      }

      function previousSection() {
        if (currentSection > 0) {
          goToSection(currentSection - 1);
        }
      }

      let scrollTimeout;
      let lastScrollTime = 0;
      let isAtScrollEnd = false;

      function handleScroll(e) {
        if (isScrolling) return;

        const currentSectionElement = sections[currentSection];
        const isGallery =
          currentSectionElement.classList.contains("gallery-section");

        if (isGallery) {
          const delta = e.deltaY;
          const currentTime = Date.now();

          if (delta > 0) {
            if (!isGalleryScrolledToEnd(currentSectionElement)) {
              isAtScrollEnd = false;
              return;
            } else {
              if (!isAtScrollEnd) {
                isAtScrollEnd = true;
                lastScrollTime = currentTime;
                return;
              } else if (currentTime - lastScrollTime > 100) {
                isAtScrollEnd = false;
              } else {
                return;
              }
            }
          } else {
            if (!isGalleryScrolledToStart(currentSectionElement)) {
              isAtScrollEnd = false;
              return;
            } else {
              if (!isAtScrollEnd) {
                isAtScrollEnd = true;
                lastScrollTime = currentTime;
                return;
              } else if (currentTime - lastScrollTime > 100) {
                isAtScrollEnd = false;
              } else {
                return;
              }
            }
          }
        }

        e.preventDefault();

        scrollDelta += e.deltaY;

        clearTimeout(scrollDebounceTimer);
        scrollDebounceTimer = setTimeout(() => {
          if (Math.abs(scrollDelta) > 30) {
            if (scrollDelta > 0) {
              nextSection();
            } else {
              previousSection();
            }
          }
          scrollDelta = 0;
        }, 10);
      }

      function handleKeydown(e) {
        if (isScrolling) return;

        switch (e.key) {
          case "ArrowDown":
          case "ArrowRight":
          case "ArrowUp":
          case "ArrowLeft":
            e.preventDefault();
            previousSection();
            break;
          case "Home":
            e.preventDefault();
            goToSection(0);
            break;
          case "End":
            e.preventDefault();
            goToSection(totalSections - 1);
            break;
        }
      }

      function handleTouchStart(e) {
        touchStartY = e.touches[0].clientY;
        touchStartTime = Date.now();
      }

      function handleTouchEnd(e) {
        if (isScrolling) return;

        const touchEndY = e.changedTouches[0].clientY;
        const touchEndTime = Date.now();
        const timeDiff = touchEndTime - touchStartTime;
        const yDiff = touchStartY - touchEndY;

        if (timeDiff < 500 && Math.abs(yDiff) > 50) {
          if (yDiff > 0) {
            nextSection();
          } else {
            previousSection();
          }
        }
      }

      function createFloatingHeart() {
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.innerHTML = "💕";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = Math.random() * 3 + 5 + "s";
        heart.style.animationDelay = Math.random() * 2 + "s";

        document.getElementById("floatingHearts").appendChild(heart);

        setTimeout(() => {
          if (heart.parentNode) {
            heart.remove();
          }
        }, 8000);
      }

      document.addEventListener("DOMContentLoaded", function () {
        document.addEventListener("wheel", handleScroll, { passive: false });
        document.addEventListener("DOMMouseScroll", handleScroll, {
          passive: false,
        });

        document.addEventListener("keydown", handleKeydown);

        document.addEventListener("touchstart", handleTouchStart, {
          passive: true,
        });
        document.addEventListener("touchend", handleTouchEnd, {
          passive: true,
        });

        initScrollIndicators();
        showSection(0);

        setInterval(createFloatingHeart, 3000);

        document.addEventListener("contextmenu", (e) => e.preventDefault());
      });

      window.addEventListener(
        "scroll",
        (e) => {
          const currentSectionElement = sections[currentSection];
          const isGallery =
            currentSectionElement &&
            currentSectionElement.classList.contains("gallery-section");

          if (!isGallery) {
            window.scrollTo(0, 0);
          }
        },
        { passive: false }
      );

      document.body.addEventListener(
        "touchmove",
        (e) => {
          const currentSectionElement = sections[currentSection];
          const isGallery =
            currentSectionElement &&
            currentSectionElement.classList.contains("gallery-section");

          if (!isGallery) {
            e.preventDefault();
          }
        },
        { passive: false }
      );
    </script>
    <script src="assets/js/dateChecker.js"></script>
  </body>
</html>
